---
layout: article
title: "挑釁的SRE宣言：掙脫約束的陷阱"
permalink: /zh-TW/articles/provocative-sre-manifesto/
---

# 挑釁的SRE宣言：掙脫約束的陷阱

*為什麼傳統的SRE是金屬時代的遺物——以及如何建立真正能促進創新的可靠性*

---

## 令人不安的真相

**傳統的SRE正在為已不復存在的約束進行優化。**

網站可靠性工程（SRE）誕生於硬體昂貴、變更風險高、運營需要專業知識的時代。專注於基礎設施、黑箱監控和被動救火的SRE模型，在那個世界裡是完全合理的。

但那個世界已經過去了。

今日的雲端平台消除了最初為傳統SRE方法提供正當性的物理約束。然而，大多數組織仍在像2005年一樣運行SRE，為基礎設施效率而非業務敏捷性進行優化。

**我們正在目睹顛覆計程車、零售和搜索行業的相同約束演變模式。** 傳統的SRE即將變得像無線電調度和實體店目錄一樣過時。

**我們拒絕成為昨日約束的被動管理者。我們是明日能力的積極建構者。**

---

## 約束的陷阱：為何傳統SRE變得過時

傳統的SRE**完美地為錯誤的時代進行了優化**。就像計程車調度員在優化無線電效率，而Uber在建立移動優先平台一樣，傳統SRE在優化基礎設施的稀缺性，而現代系統需要的是業務敏捷性。

### 遺留SRE的致命缺陷

#### 1. **黑箱的錯覺**
- **謊言：** 「應用程式只是運行在基礎設施上的容器」
- **現實：** 現代應用程式是領域驅動的系統，其中業務邏輯、數據關係和用戶體驗是主要的約束
- **代價：** SRE將80%的時間花在基礎設施劇場（表面工作）上，而業務關鍵的故障卻未被發現
- **證據：** 有多少生產事故是由於Kubernetes引起的，而不是領域邏輯錯誤、模式遷移或整合失敗？

#### 2. **無狀態的幻想**
- **謊言：** 「通過保持一切無狀態來避免複雜性」
- **現實：** 業務價值存在於狀態中——客戶數據、訂單歷史、支付記錄、用戶偏好
- **代價：** 系統變成了由脆弱的API和最終一致性噩夢連接起來的、易碎的分散式單體
- **證據：** Netflix有數千個微服務，但其真正的複雜性在於數據關係，而非容器編排

#### 3. **救火英雄情結**
- **謊言：** 「優秀的SRE擅長應對事故」
- **現實：** 優秀的系統通過領域理解和主動設計來預防事故
- **代價：** 組織獎勵英雄式的救火，而非預防性的架構，從而產生了不正當的激勵
- **證據：** 衡量MTTR（平均修復時間）而非MTTF（平均故障間隔）的團隊，是在為壯觀的失敗而非乏味的可靠性進行優化

### 碎片化陷阱

傳統的SRE創造了我們稱之為**碎片化陷阱**的東西——管理數十個脫節的服務，卻忽略了它們本應實現的整體業務能力。

**結果：** SRE團隊變成了YAML考古學家，花在調試服務網格配置上的時間比理解客戶影響的時間還多。

---

## 約束感知SRE：為邏輯時代優化

**挑釁的SRE認識到，雲原生系統的可靠性來自於領域理解，而非基礎設施的掌控。**

我們見證了約束的倒置。瓶頸已從物理基礎設施轉移到業務敏捷性。我們的方法必須隨之改變。

### 現代SRE的四大支柱

#### 1. **業務領域至上**
- **原則：** 應用程式是業務能力，而非部署產物
- **實踐：** SRE的邊界與有界上下文對齊，而非技術層次
- **證據：** 亞馬遜的「你建立，你運營」模型能擴展到數百萬客戶，因為團隊擁有完整的業務能力
- **成果：** 事故變為由業務影響驅動，而非基礎設施警報驅動

#### 2. **約束感知的架構**
- **原則：** 為當前約束（業務敏捷性）而非歷史約束（基礎設施效率）進行優化
- **實踐：** 為領域隔離和獨立演進而設計，而非共享基礎設施的利用率
- **證據：** 採用以應用為中心的架構的組織，部署頻率提高200倍，可靠性也更高
- **成果：** 創新成為常規，而非風險

#### 3. **透明的系統行為**
- **原則：** 整個系統——業務邏輯、數據關係、部署狀態——都是可觀察和可理解的
- **實踐：** 對業務流程進行白箱監控，而不僅僅是基礎設施健康的黑箱指標
- **證據：** Netflix的成功來自於理解用戶行為和內容關係，而非容器編排的掌控
- **成果：** 預防性設計取代被動救火

#### 4. **實驗驅動的可靠性**
- **原則：** 可靠性來自於安全的實驗，而非規避風險
- **實踐：** 在業務領域層面進行混沌工程和持續測試
- **證據：** Google的SRE模型之所以成功，是因為他們持續測試失敗場景，而不是避開它們
- **成果：** 信心來自於經過驗證的韌性，而非理論上的正常運行時間

### 打破YAML考古循環

**傳統的SRE將團隊困在YAML考古學中**——花在調試配置漂移上的時間比理解業務影響的時間還多。

**約束感知的SRE**將配置視為遵循業務邏輯的代碼，而不是恰好運行應用程式的基礎設施產物。

---

## 巨大的分水嶺：遺留SRE vs. 約束感知SRE

| 方面 | 傳統SRE（金屬時代優化） | 約束感知SRE（邏輯時代優化） |
|---|---|---|
| **核心約束** | 稀缺、昂貴的基礎設施 | 豐富的基礎設施，稀缺的業務敏捷性 |
| **主要焦點** | 容器正常運行時間、資源利用率 | 業務能力可用性、功能交付速度 |
| **事故定義** | Pod崩潰、CPU飆升、記憶體洩漏 | 客戶無法完成結帳、支付失敗、訂單丟失 |
| **架構驅動力** | 共享基礎設施效率 | 獨立的業務領域演進 |
| **可靠性策略** | 避免變更，維持穩定的配置 | 實現安全的實驗，快速學習 |
| **團隊結構** | 專業的基礎設施專家 | 擁有SRE平台支持的全棧領域所有者 |
| **成功指標** | 正常運行時間百分比、MTTR、資源效率 | 業務KPI、功能交付速度、學習速率 |
| **故障響應** | 英雄式救火、事後追責 | 系統性預防、設計改進 |
| **創新方法** | 「沒壞就不要修」 | 「如果我們沒有破壞東西，說明我們學得不夠快」 |
| **競爭優勢** | 穩定、可預測的系統 | 快速的業務適應、市場響應能力 |

---

## 我們的挑釁原則

### 1. **約束意識**
**我們認識到，優化策略必須隨約束而演變。**

傳統SRE為金屬時代的約束（基礎設施稀缺、部署風險、專業知識）進行優化。我們為雲時代的約束（業務敏捷性、領域複雜性、市場響應能力）進行優化。

*我們拒絕成為雲時代的計程車調度員。*

### 2. **業務領域至上**
**應用程式是業務能力，而非技術產物。**

我們不管理恰好運行業務邏輯的容器。我們管理恰好使用容器的業務能力。我們的邊界、指標和事故響應都與業務領域對齊，而非技術層次。

*如果你無法向產品經理解釋你的架構，那麼你正在為錯誤的約束進行優化。*

### 3. **碎片化是敵人**
**分散式系統的複雜性來自於零散的所有權，而非技術上的分散。**

我們拒絕SRE在業務能力無聲無息地失敗時，卻在調試服務網格配置的YAML考古模型。每個業務能力都有一個單一的團隊，擁有其完整的垂直切片。

*配置漂移是在基礎設施中顯現的組織債務。*

### 4. **實驗即是可靠性**
**可靠性來自於經過驗證的韌性，而非理論上的正常運行時間。**

我們不通過避免變更來實現可靠性——我們通過使變更安全、頻繁和可觀察來實現。每個業務能力都必須能夠在隔離和現實的失敗條件下進行測試。

*害怕實驗的系統，根據定義就是脆弱的。*

### 5. **透明勝於抽象**
**複雜的系統需要理解，而非隱藏。**

我們拒絕在業務流程不透明的情況下，對基礎設施指標進行黑箱監控。每個依賴關係、合約和失敗模式都必須是明確的、版本化的，並且能被領域團隊理解。

*製造無知的抽象是技術債務。*

### 6. **平台解放**
**平台團隊賦能業務團隊；他們不控制他們。**

我們的平台服務在保留業務團隊自主性的同時，抽象化了無差異的重活。我們提供能力，而非約束。我們實現實驗，而非協調開銷。

*如果你的平台部署需要開票，你建立的是瓶頸，而非能力。*

### 7. **價值驅動的可靠性**
**沒有業務影響的衡量，可用性是沒有意義的。**

我們不優化正常運行時間——我們優化業務成果的可用性。一個在黑色星期五期間失敗的99.9%正常運行時間的支付服務，比一個在營收關鍵時刻從未失敗的99%正常運行時間的服務更糟糕。

*SLA劇場是表演藝術，而非工程。*

---

## 我們的革命性承諾

### 對業務團隊：
- **我們將消除部署劇場** —— 業務領域的變更不再需要工單、批准或協調開銷
- **我們將使實驗變得微不足道** —— 任何工程師都可以在幾分鐘內啟動一個完整的環境，而不是幾週
- **我們將提供與業務相關的指標** —— 你會在基礎設施影響之前了解客戶影響

### 對平台團隊：
- **我們將抽象化無差異的複雜性** —— 團隊專注於業務邏輯，而非YAML考古學
- **我們將實現自主運營** —— 能力，而非控制；賦權，而非依賴
- **我們將使可靠性變得乏味** —— 通過設計而非英雄主義來預防事故

### 對傳統SRE：
- **我們將消除救火英雄情結** —— 事故響應成為系統性學習，而非個人英雄主義
- **我們將挑戰基礎設施劇場** —— 沒有業務影響的正常運行時間是虛榮，而非價值
- **我們將進化或被淘汰** —— 對約束視而不見的SRE是新的遺留系統

### 對行業：
- **我們將證明可靠性促進創新** —— 行動最快的團隊也將是最可靠的團隊
- **我們將展示約束感知的架構** —— 業務敏捷性和系統可靠性是互補的，而非競爭的
- **我們將引領後DevOps的演進** —— 從技術孤島到業務能力所有權

---

## 約束感知SRE的平台

**ONDEMANDENV代表了第一個專為約束的邏輯時代而建的平台。**

傳統平台為基礎設施效率進行優化，而ONDEMANDENV則為業務領域的自主性和實驗速度進行優化。

### 核心能力：

#### **ContractsLib：作為代碼的業務領域邊界**
- 依賴關係和接口是明確的、版本化的，並與業務能力對齊
- 合約演進在領域之間是安全的、可測試的和獨立的
- **消除整合考古學** —— 不再需要翻查YAML來理解系統關係

#### **以應用為中心的環境**
- 完整的業務能力可在幾分鐘內部署，而非幾小時
- 環境版本化意味著每個變更都可追溯到業務意圖
- **實現無畏的實驗** —— 在隔離的環境中安全地破壞事物

#### **領域驅動的架構強制執行**
- 服務邊界源於業務分析，而非技術便利
- **預防碎片化陷阱** —— 邏輯業務能力保持連貫
- 基礎設施遵循領域設計，而非反之

#### **透明的系統行為**
- 業務流程的實時可視化，而不僅僅是基礎設施指標
- **白箱理解**變更如何影響業務成果
- 解釋業務關係而不僅僅是技術關係的依賴關係追踪

### 行動中的約束倒置：

**傳統平台：** 「我們如何有效地在多個應用程式之間共享基礎設施？」

**ONDEMANDENV：** 「我們如何使業務團隊能夠自主地擁有完整的能力？」

這不僅僅是技術上的差異——這是一個**基本的約束優化策略**，它決定了你的組織是否能在邏輯時代競爭。

---

## 選擇：進化或滅絕

**約束的倒置不是可選的。在邏輯時代為金屬時代的約束進行優化的組織將被顛覆。**

就像Uber不是逐步改進計程車調度，而是使其過時一樣，約束感知的SRE將使傳統的以基礎設施為中心的SRE變得無關緊要。

### 證據越來越多：
- **亞馬遜：** 「你建立，你運營」能夠擴展到數十億的請求，因為團隊擁有完整的業務能力
- **Netflix：** 成功來自於理解內容關係和用戶行為，而非容器編排的掌控
- **Google：** SRE之所以有效，是因為他們為業務影響和持續實驗進行優化，而非基礎設施正常運行時間的劇場

### 競爭護城河：
擁抱約束感知SRE的組織將實現：
- **快10倍的功能交付**（消除協調開銷）
- **高5倍的開發者生產力**（擁有完全所有權的自主團隊）
- **無法逾越的架構優勢**（業務領域優化的系統 vs. 基礎設施優化的系統）

### 窗口正在關閉： 