flowchart TB
    %% ========================================
    %% PRODUCTION NETWORK - 10.0.0.0/8
    %% ========================================
    subgraph ProdNetwork["ğŸ”’ PRODUCTION NETWORK - 10.0.0.0/8"]
        direction TB
        
        subgraph ProdCentral["ğŸ¯ CENTRAL ORCHESTRATION (Account: 590184031795)"]
            direction TB
            CentralControlProd["ğŸ¯ Platform Orchestration<br/>â€¢ Cross-account deployment coordination<br/>â€¢ Environment versioning<br/>â€¢ Policy as Code Engine"]
        end
        
        subgraph ProdNetworking["ğŸŒ NETWORKING PLATFORM (Account: 590183907424)"]
            direction TB
            subgraph ProdNetInfra["Network Infrastructure"]
                direction LR
                TGWProd["ğŸ”— Transit Gateway<br/>Network Hub<br/>10.0.0.1"]
                NATProd["ğŸŒ NAT Gateway<br/>Internet Access"]
                IPAMProd["ğŸ“Š IPAM Pool<br/>10.0.0.0/8<br/>IP Management"]
            end
            CentralVPCProd["ğŸ—ï¸ Central VPC: 10.1.0.0/16"]
            NetDeployProd["ğŸš€ Network Functions<br/>â€¢ VPC sharing approval<br/>â€¢ Route table management<br/>â€¢ Cross-account connectivity"]
        end
        
        subgraph ProdPlatforms["ğŸ—ï¸ PLATFORM SERVICES (Account: 975050243618)"]
            direction TB
            subgraph ProdEKS["âš™ï¸ EKS Platform"]
                direction TB
                EKSVPCProd["ğŸ“¦ VPC: 10.2.0.0/16"]
                EKSProd["â˜¸ï¸ EKS Cluster"]
                EKSDeployProd["ğŸš€ K8s Functions<br/>â€¢ Manifest deployment<br/>â€¢ ServiceAccount mgmt<br/>â€¢ IRSA configuration"]
            end
            subgraph ProdRDS["ğŸ—„ï¸ RDS Platform"]
                direction TB
                RDSVPCProd["ğŸ“¦ VPC: 10.3.0.0/16"]
                RDSProd["ğŸ—„ï¸ RDS Cluster"]
                RDSDeployProd["ğŸš€ DB Functions<br/>â€¢ Schema deployment<br/>â€¢ Role/user management<br/>â€¢ Access control"]
            end
        end
        
        subgraph ProdApps["ğŸ“± APPLICATION WORKLOADS (Account: 590184130740)"]
            direction TB
            subgraph ProdEnver1["ğŸš€ Enver 1 - Complete Vertical Slice"]
                direction TB
                App1VPCProd["ğŸ“¦ VPC: 10.4.0.0/16"]
                App1ResProd["ğŸ’¾ Resources<br/>â€¢ IAM Role 1 (DynamoDB)<br/>â€¢ IAM Role 2 (RDS)<br/>â€¢ S3 buckets, secrets"]
                App1ManifestProd["ğŸ“‹ K8s Manifests<br/>â€¢ Deployment definitions<br/>â€¢ ServiceAccount configs"]
                App1SchemaProd["ğŸ—ƒï¸ DB Schema/Roles<br/>â€¢ Application database<br/>â€¢ User permissions"]
            end
            subgraph ProdEnver2["ğŸš€ Enver 2 - No VPC Needed"]
                direction TB
                App2VPCProd["ğŸ“¦ VPC: 10.5.0.0/16"]
                App2ResProd["ğŸ’¾ Resources<br/>â€¢ IAM Role A (DB via TGW)<br/>â€¢ IAM Role B (S3)<br/>â€¢ Configuration"]
                App2ManifestProd["ğŸ“‹ K8s Manifests<br/>â€¢ Deployment definitions<br/>â€¢ ServiceAccount configs"]
            end
        end
    end

    %% ========================================
    %% LOWER ENVIRONMENT NETWORK - 172.16.0.0/12
    %% ========================================
    subgraph LENetwork["ğŸ› ï¸ LOWER ENVIRONMENT NETWORK - 172.16.0.0/12"]
        direction TB
        
        subgraph LECentral["ğŸ¯ CENTRAL ORCHESTRATION (Account: 590184031795)"]
            direction TB
            CentralControlLE["ğŸ¯ Platform Orchestration<br/>â€¢ Cross-account deployment coordination<br/>â€¢ Environment versioning<br/>â€¢ Policy as Code Engine"]
        end
        
        subgraph LENetworking["ğŸŒ NETWORKING PLATFORM (Account: 590183907424)"]
            direction TB
            subgraph LENetInfra["Network Infrastructure"]
                direction LR
                TGWLE["ğŸ”— Transit Gateway<br/>Network Hub<br/>172.16.0.1"]
                NATLE["ğŸŒ NAT Gateway<br/>Internet Access"]
                IPAMLE["ğŸ“Š IPAM Pool<br/>172.16.0.0/12<br/>IP Management"]
            end
            CentralVPCLE["ğŸ—ï¸ Central VPC: 172.16.1.0/16"]
            NetDeployLE["ğŸš€ Network Functions<br/>â€¢ VPC sharing approval<br/>â€¢ Route table management<br/>â€¢ Cross-account connectivity"]
        end
        
        subgraph LEPlatforms["ğŸ—ï¸ PLATFORM SERVICES (Account: 975050243618)"]
            direction TB
            subgraph LEEKS["âš™ï¸ EKS Platform"]
                direction TB
                EKSVPCLENet["ğŸ“¦ VPC: 172.16.2.0/16"]
                EKSLENet["â˜¸ï¸ EKS Cluster"]
                EKSDeployLE["ğŸš€ K8s Functions<br/>â€¢ Manifest deployment<br/>â€¢ ServiceAccount mgmt<br/>â€¢ IRSA configuration"]
            end
            subgraph LERDS["ğŸ—„ï¸ RDS Platform"]
                direction TB
                RDSVPCLENet["ğŸ“¦ VPC: 172.16.3.0/16"]
                RDSLENet["ğŸ—„ï¸ RDS Cluster"]
                RDSDeployLE["ğŸš€ DB Functions<br/>â€¢ Schema deployment<br/>â€¢ Role/user management<br/>â€¢ Access control"]
            end
        end
        
        subgraph LEApps["ğŸ“± APPLICATION WORKLOADS (Account: 590184130740)"]
            direction TB
            subgraph LEEnver1["ğŸš€ Application Enver"]
                direction TB
                App1VPCLENet["ğŸ“¦ VPC: 172.16.4.0/16"]
                App1ResLENet["ğŸ’¾ Resources<br/>â€¢ IAM roles<br/>â€¢ S3 buckets, secrets<br/>â€¢ Configuration"]
                App1ManifestLE["ğŸ“‹ K8s Manifests<br/>â€¢ Deployment definitions<br/>â€¢ ServiceAccount configs"]
                App1SchemaLE["ğŸ—ƒï¸ DB Schema/Roles<br/>â€¢ Application database<br/>â€¢ User permissions"]
            end
        end
    end

    %% ========================================
    %% INTERNET ACCESS
    %% ========================================
    subgraph Internet["ğŸŒ Internet"]
        ExtServices["External Services"]
    end

    %% ========================================
    %% NETWORK CONNECTIONS
    %% ========================================
    
    %% Production Network Connections
    TGWProd === CentralVPCProd
    TGWProd === EKSVPCProd
    TGWProd === RDSVPCProd
    TGWProd === App1VPCProd
    TGWProd === App2VPCProd
    TGWProd --> NATProd
    
    %% LE Network Connections
    TGWLE === CentralVPCLE
    TGWLE === EKSVPCLENet
    TGWLE === RDSVPCLENet
    TGWLE === App1VPCLENet
    TGWLE --> NATLE

    %% Internet Access
    NATProd --> ExtServices
    NATLE --> ExtServices

    %% IPAM Management
    IPAMProd -.-> CentralVPCProd
    IPAMProd -.-> EKSVPCProd
    IPAMProd -.-> RDSVPCProd
    IPAMProd -.-> App1VPCProd
    IPAMProd -.-> App2VPCProd
    
    IPAMLE -.-> CentralVPCLE
    IPAMLE -.-> EKSVPCLENet
    IPAMLE -.-> RDSVPCLENet
    IPAMLE -.-> App1VPCLENet

    %% ========================================
    %% CROSS-ACCOUNT DEPLOYMENT FLOWS
    %% ========================================
    
    %% Central Account Orchestration (Production)
    CentralControlProd -.->|"ğŸ¯ Orchestrate"| NetDeployProd
    CentralControlProd -.->|"ğŸ¯ Orchestrate"| EKSDeployProd
    CentralControlProd -.->|"ğŸ¯ Orchestrate"| RDSDeployProd
    
    %% Enver 1 Deployment Flow (590184130740 â†’ 975050243618)
    App1ManifestProd ==>|"ğŸš€ Cross-Account Deploy<br/>590184130740 â†’ 975050243618"| EKSDeployProd
    EKSDeployProd ==>|"â˜¸ï¸ Deploy to Cluster"| EKSProd
    App1SchemaProd ==>|"ğŸš€ Cross-Account Deploy<br/>590184130740 â†’ 975050243618"| RDSDeployProd
    RDSDeployProd ==>|"ğŸ—„ï¸ Deploy to Database"| RDSProd
    
    %% Enver 2 Deployment Flow (590184130740 â†’ 975050243618)
    App2ManifestProd ==>|"ğŸš€ Cross-Account Deploy<br/>590184130740 â†’ 975050243618"| EKSDeployProd
    
    %% Network Management Flows (590183907424 â†’ 590184130740)
    NetDeployProd -.->|"ğŸ”— Cross-Account VPC Sharing<br/>590183907424 â†’ 590184130740"| App1VPCProd
    NetDeployProd -.->|"ğŸ”— Cross-Account VPC Sharing<br/>590183907424 â†’ 590184130740"| App2VPCProd

    %% ========================================
    %% RUNTIME COMMUNICATION (CROSS-ACCOUNT IRSA)
    %% ========================================
    
    %% Enver 1: Pod assuming IAM roles across accounts
    EKSProd -.->|"ğŸ” Cross-Account IRSA<br/>975050243618 â†’ 590184130740<br/>IAM Role 1 â†’ DynamoDB"| App1ResProd
    EKSProd -.->|"ğŸ” Cross-Account IRSA<br/>975050243618 â†’ 975050243618<br/>IAM Role 2 â†’ RDS via TGW"| RDSProd
    
    %% Enver 2: Pod assuming IAM roles across accounts  
    EKSProd -.->|"ğŸ” Cross-Account IRSA<br/>975050243618 â†’ 975050243618<br/>IAM Role A â†’ DB via TGW"| RDSProd
    EKSProd -.->|"ğŸ” Cross-Account IRSA<br/>975050243618 â†’ 590184130740<br/>IAM Role B â†’ S3"| App2ResProd

    %% ========================================
    %% LE ENVIRONMENT DEPLOYMENT FLOWS
    %% ========================================
    
    %% Central Account Orchestration (LE)
    CentralControlLE -.->|"ğŸ¯ Orchestrate"| NetDeployLE
    CentralControlLE -.->|"ğŸ¯ Orchestrate"| EKSDeployLE
    CentralControlLE -.->|"ğŸ¯ Orchestrate"| RDSDeployLE
    
    %% LE Application Deployment
    App1ManifestLE ==>|"ğŸš€ Cross-Account Deploy<br/>590184130740 â†’ 975050243618"| EKSDeployLE
    EKSDeployLE ==>|"â˜¸ï¸ Deploy to Cluster"| EKSLENet
    App1SchemaLE ==>|"ğŸš€ Cross-Account Deploy<br/>590184130740 â†’ 975050243618"| RDSDeployLE
    RDSDeployLE ==>|"ğŸ—„ï¸ Deploy to Database"| RDSLENet
    
    %% LE Network Management
    NetDeployLE -.->|"ğŸ”— Cross-Account VPC Sharing<br/>590183907424 â†’ 590184130740"| App1VPCLENet

    %% ========================================
    %% STYLING
    %% ========================================
    
    %% Main network styling
    style ProdNetwork fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px
    style LENetwork fill:#e8f4fd,stroke:#039be5,stroke-width:3px
    
    %% Central orchestration styling
    style ProdCentral fill:#fff3e0,stroke:#e65100,stroke-width:2px
    style LECentral fill:#fff3e0,stroke:#e65100,stroke-width:2px
    
    %% Network platform styling
    style ProdNetworking fill:#81c784,stroke:#388e3c,stroke-width:2px
    style LENetworking fill:#81c784,stroke:#388e3c,stroke-width:2px
    
    %% Platform services styling  
    style ProdPlatforms fill:#bbdefb,stroke:#0288d1,stroke-width:2px
    style LEPlatforms fill:#bbdefb,stroke:#0288d1,stroke-width:2px
    
    %% Application styling
    style ProdApps fill:#e8f4fd,stroke:#039be5,stroke-width:1px
    style LEApps fill:#e8f4fd,stroke:#039be5,stroke-width:1px
    
    %% Enver styling
    style ProdEnver1 fill:#c8e6c9,stroke:#66bb6a,stroke-width:2px
    style ProdEnver2 fill:#c8e6c9,stroke:#66bb6a,stroke-width:2px
    style LEEnver1 fill:#c8e6c9,stroke:#66bb6a,stroke-width:2px